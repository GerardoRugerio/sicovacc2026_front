<h3>Captura de Resultados de la Consulta por Mesa</h3>
<div class="row shadow-lg rounded-3 py-3 my-2 mx-0 d-flex justify-content-center align-items-center">
  <div class="col-6">
    <shared-selector (anio)="getAnio($event)"/>
  </div>
  <div class="col-6">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th colspan="2">Unidades Territoriales</th>
          <th colspan="2">Actas</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{anio() > 1 ? 'Por Validar' : 'Por Computar'}}</td>
          <td>{{anio() > 1 ? 'Validadas' : 'Computadas'}}</td>
          <td>Por Capturar</td>
          <td>Capturadas</td>
        </tr>
        <tr>
          <td>{{data()?.UTPorValidar ?? 0}}</td>
          <td>{{data()?.UTValidadas ?? 0}}</td>
          <td>{{data()?.actasPorCapturar ?? 0}}</td>
          <td>{{data()?.actasCapturadas ?? 0}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="row shadow-lg rounded-3 py-3 my-4 mx-0 d-flex justify-content-center align-items-center">
  <div class="col-12 d-flex justify-content-end align-items-center">
    <button class="btn btn-main-action" (click)="openModal()" [disabled]="cierreValidacion() ? true : (dataStatus()?.datosSEI ? false : true)">
      <img src="assets/list-plus.svg" width="25" alt="plus"> Capturar acta
    </button>
  </div>
  <div class="col-12">
    @if(listaActas() !== undefined) {
      <table datatable [dtOptions]="dtOptions" class="table table-bordered table-striped row-border hover">
        <thead>
          <tr>
            <th>#</th>
            <th>Unidad Territorial</th>
            <th>Clave de la UT</th>
            <th>Número de Mesa</th>
            <th>Ver/editar acta</th>
          </tr>
        </thead>
        <tbody>
          @for(acta of listaActas(); track i; let i = $index) {
            <tr [class]="{'table-primary': id_acta() == acta.id_acta}">
              <td>{{i+1}}</td>
              <td>{{acta.nombre_colonia}}</td>
              <td>{{acta.clave_colonia}}</td>
              <td>{{acta.num_mro}} {{getTextos(acta.tipo)}}</td>
              <td>
                <button class="btn btn-main-action" (click)="openModal(acta.id_acta)"><i class="bi bi-eye-fill"></i></button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    } @else {
      <table datatable [dtOptions]="dtOptions" class="table table-bordered table-striped row-border hover">
        <thead>
          <tr>
            <th>#</th>
            <th>Unidad Territorial</th>
            <th>Clave de la UT</th>
            <th>Número de Mesa</th>
            <th>Ver/editar acta</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    }
  </div>
</div>
@if(showModal()) {
  <main-captura-actas [inputAnio]="anio()" [id_acta]="id_acta()" (reset)="getReset($event)" (reload)="getReload($event)"/>
}


